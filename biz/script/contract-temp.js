function checkInvestorContract(){var t=[],e=$("#msme_id").val(),a=$("#accountid").val();t.push({name:"v_id",value:a}),t.push({name:"msme_id",value:e}),t.push({name:"action",value:"Check investor contract"}),$.ajax({type:"POST",url:"controller/ContractController.php",data:t,success:function(t){console.log(jQuery.trim(t)),json=JSON.parse(jQuery.trim(t)),console.log(json),$(".taba").attr("hidden",!0),!1===json?($(".contract_step a:first-child").addClass("nav-active"),$(".contract_step a").andSelf().next().addClass("disabledAnchor"),$("#row_stepone").fadeIn().removeAttr("hidden")):0==json.status?($(".bat").removeClass("nav-active"),$(".contract_step a:nth-child(2)").addClass("nav-active"),$(".contract_step a:first-child").addClass("disabledAnchor"),$(".contract_step a:last-child").addClass("disabledAnchor"),$(".taba").attr("hidden",!0),$("#row_steptwo").fadeIn().removeAttr("hidden")):2==json.status?($(".bat").removeClass("nav-active"),$(".contract_step a:nth-child(3)").addClass("nav-active"),$(".contract_step a:first-child").addClass("disabledAnchor"),$(".contract_step a:nth-child(2)").addClass("disabledAnchor"),$(".taba").attr("hidden",!0),$("#row_stepthree").fadeIn().removeAttr("hidden")):1==json.status&&($(".bat").removeClass("nav-active"),$(".contract_step a:nth-child(3)").addClass("nav-active"),$(".contract_step a:first-child").addClass("disabledAnchor"),$(".contract_step a:nth-child(2)").addClass("disabledAnchor"),$(".taba").attr("hidden",!0),$("#row_stepthree").fadeIn().removeAttr("hidden"),$("#result").text("Your investment application was successfully invested"))}})}function genPDF(){$("#loadthis").addClass("loader-show"),generatePDF();var t=[],e=$("#msme_id").val(),a=$("#accountid").val();t.push({name:"v_id",value:a}),t.push({name:"msme_id",value:e}),t.push({name:"action",value:"Upload Contract"}),$.ajax({type:"POST",url:"controller/ContractController.php",data:t,success:function(t){console.log(jQuery.trim(t)),json=JSON.parse(jQuery.trim(t)),checkInvestorContract(),$("#loadthis").removeClass("loader-show")}})}function getContractDetails(){var t=[],e=$("#msme_id").val(),a=$("#accountid").val();t.push({name:"v_id",value:a}),t.push({name:"msme_id",value:e}),t.push({name:"action",value:"Get Contract Details"}),$.ajax({type:"POST",url:"controller/ContractController.php",data:t,success:function(t){console.log(jQuery.trim(t)),json=JSON.parse(jQuery.trim(t)),console.log(json),$("#loadthis").removeClass("loader-show")}})}function generatePDF(){var t=new jsPDF;t.text(80,30,"Contract of Agreement"),t.setFontSize(12),t.text(20,40,"Contract Number: _______  Contract Date: __________ Contract Validity:__________"),t.fromHTML($("#content").get(0),20,45,{width:180,elementHandlers:{"#content":function(t,e){return!0}}}),t.setFontSize(10),t.text(20,230,"_____________________________"),t.text(17,236,"Venturer name & Signaturer date signed"),t.text(120,230,"________________________________"),t.text(116,236,"Entrepreneur name & Signature date signed"),t.save("VenturePal-Contract.pdf")}function checkInputFile(){1}$(function(){$("#msme_id").val(),$("#accountid").val();checkInvestorContract()}),$(".contract").on("click",function(){$("#contract").click()}),$("#contract").on("change",function(){a=$(this)[0].files,0!=a.length&&($(".contract").html(a[0].name),"application/pdf"==a[0].type?$("#uploaded_file_contract").html('<img width="100" height="100" src="../../bizsh.admin/images/PDFLogo.png"/>'):$("#uploaded_file_contract").html('<img width="100" height="100" src="'+window.URL.createObjectURL(a[0])+'"/>'),console.log(a[0].type),$(".contract ").removeClass("file-error"),$(".contract_ span").attr("hidden",!0))}),$(".investment").on("click",function(){$("#investment").click()}),$("#investment").on("change",function(){a=$(this)[0].files,0!=a.length&&($(".investment").html(a[0].name),"application/pdf"==a[0].type?$("#uploaded_file_investment").html('<img width="100" height="100" src="../../bizsh.admin/images/PDFLogo.png"/>'):$("#uploaded_file_investment").html('<img width="100" height="100" src="'+window.URL.createObjectURL(a[0])+'"/>'),console.log(a[0].type),$(".investment ").removeClass("file-error"),$(".investment_ span").attr("hidden",!0))}),$("#btn_upload_inve").click(function(){0==$("#investment")[0].files.length?($(".investment").after('<span style="color: #E54444"> Please enter your </span>'),$(".investment ").addClass("file-error")):0==$("#contract")[0].files.length?($(".contract").after('<span style="color: #E54444"> Please enter your </span>'),$(".contract ").addClass("file-error")):($("#invesmentForm").submit(),$("#contractForm").submit())}),$("#contractForm").submit(function(t){data=new FormData(this);var e=$("#msme_id").val(),a=$("#accountid").val();data.append("action","Upload Contract with sign"),data.append("msme_id",e),data.append("investor_id",a),$.ajax({url:"controller/ContractController.php",type:"POST",data:data,cache:!1,processData:!1,contentType:!1,success:function(t){console.log(jQuery.trim(t)),checkInvestorContract()}}),t.preventDefault()}),$("#invesmentForm").submit(function(t){data=new FormData(this);var e=$("#msme_id").val(),a=$("#accountid").val();data.append("action","Upload proof of investment"),data.append("msme_id",e),data.append("investor_id",a),$.ajax({url:"controller/ContractController.php",type:"POST",data:data,cache:!1,processData:!1,contentType:!1,success:function(t){console.log(jQuery.trim(t))}}),t.preventDefault()});